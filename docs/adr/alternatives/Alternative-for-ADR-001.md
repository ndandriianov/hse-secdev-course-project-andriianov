## Decision

**Структура ответа:**
```
json
{
  "type": "about:blank",
  "title": "Validation Error",
  "status": 400,
  "detail": "Invalid objective title: too short",
  "correlation_id": "550e8400-e29b-41d4-a716-446655440000"
}
```

## Alternative Decision - упрощённый собственный формат (компактный)

Вместо строгого использования полного RFC 7807 предлагается принять упрощённый собственный формат (легковесный контракт), который сохраняет ключевые преимущества стандарта, но проще в реализации и конфигурации:

Пример полезного минимального формата:
```
json
{
  "code": "validation_error",        // машинно-читабельный код ошибки
  "message": "Invalid objective title", // человекочитаемое краткое сообщение
  "status": 400,
  "correlation_id": "uuid"
}
```
Правила реализации:
- Поля:
  - code (обязательное) - короткий snake_case код ошибки, используемый клиентом для ветвления логики.
  - message (обязательное) - безопасное краткое сообщение (без стектрейсов).
  - status (обязательное) - HTTP статус.
  - correlation_id (обязательное) — UUID для трассировки.
  - details (опционально) - структурированный объект с мелкими подсказками (например, поле -> причина), допустим только для валидационных ошибок и без чувствительной информации.
- Унификация: коды ошибок должны быть перечислены в одном месте (enum файл / docs).
- Логирование: полные детали и стектрейсы логируются на сервере, связаны по correlation_id.
- Backward compatibility: клиентам проще парсить поле code и message; нет необходимости внедрять полный RFC-парсер.

Плюсы:
- Проще и быстрее реализовать (меньше полей и формальностей).
- Меньше места в ответах, удобнее для лёгких клиентов и мобильных приложений.
- Код ошибки (code) даёт явную машинную семантику для клиента (лёгкая локализация/обработка).
- Меньше требований по документированию URI `type`, проще поддерживать в маленькой команде.

Минусы:
- Менее совместимо с внешними инструментами и спецификациями (OpenAPI/Tooling ожидают RFC 7807 в некоторых экосистемах).
- Потенциально более низкая семантическая выразительность по сравнению с полным RFC (где есть поля type, title, instance и др.).
- Требует собственных конвенций (enum для code), что добавляет необходимость их поддерживать.
- Интеграции с внешними системами мониторинга/агрегаторами ошибок могут потребовать дополнительной адаптации.

Рекомендация:
- Принять упрощённый формат как быстрый и практичный вариант для MVP/малой команды.
- Параллельно добавить тесты и документацию (список code) и предусмотреть миграционный план на RFC 7807 в случае роста потребностей интеграций/аналитики.
```
